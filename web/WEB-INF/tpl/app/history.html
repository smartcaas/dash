<#include "../common/_layout.html"/> <@layout>

<div class="panel panel-default">
	<div class="panel-heading">
		<h3 class="panel-title">应用 ${app.name}的构建历史:</h3>
	</div>
	<div class="panel-body">
		<table class="table table-striped">
			<thead>
				<tr>
					<th>镜像</th>
					<th>备注</th>
					<th>创建时间</th>
					<th>操作</th>
				</tr>
			</thead>
			<tbody>
				<#list list as x>
				<tr>
					<td>${x.image}</td>
					<td>${x.resume}</td>
					<td>${x.create_at}</td>
					<td><a href="/app/deploy/${x.app_id}?history=${x.id}">使用</a>
					<span class="cut-line">¦</span>
					<a href="javascript:del_history('${x.id}');">删除</a></td>
				</tr>
				</#list>
			</tbody>
		</table>
	</div>
</div>

<div class="alert alert-warning" role="alert">
	之前build产出的image都展示在了这里，不同的image版本功能也会有差异，所以构建镜像的时候最好写一写备注（Resume）信息。<br>
	一般保留最新的四五次记录用于回滚就可以了，之前的可以通过右侧的【删除】按钮删除。
</div>

</@layout>
